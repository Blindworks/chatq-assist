{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ChatWidgetComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleWidget());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 3);\n    i0.ɵɵelement(2, \"path\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-theme\", ctx_r1.theme);\n  }\n}\nfunction ChatWidgetComponent_div_1_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 25);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.config.logoUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ChatWidgetComponent_div_1_button_10__svg_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 12);\n    i0.ɵɵelement(1, \"path\", 28);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatWidgetComponent_div_1_button_10__svg_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 12);\n    i0.ɵɵelement(1, \"circle\", 29)(2, \"line\", 30)(3, \"line\", 31)(4, \"line\", 32)(5, \"line\", 33)(6, \"line\", 34)(7, \"line\", 35)(8, \"line\", 36)(9, \"line\", 37);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatWidgetComponent_div_1_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_div_1_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.toggleTheme());\n    });\n    i0.ɵɵtemplate(1, ChatWidgetComponent_div_1_button_10__svg_svg_1_Template, 2, 0, \"svg\", 27)(2, ChatWidgetComponent_div_1_button_10__svg_svg_2_Template, 10, 0, \"svg\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.theme === \"light\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.theme === \"dark\");\n  }\n}\nfunction ChatWidgetComponent_div_1_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 39);\n    i0.ɵɵelement(2, \"path\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Welcome to \", ctx_r1.config.companyName || \"ChatQ Assist\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.config.welcomeMessage || \"Ask us anything about our products and services.\");\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_div_3_div_3_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const source_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"href\", source_r5.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(source_r5.title);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_div_3_div_3_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const source_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(source_r5.title);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_div_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"span\", 48);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ChatWidgetComponent_div_1_div_17_div_3_div_3_a_3_Template, 2, 2, \"a\", 49)(4, ChatWidgetComponent_div_1_div_17_div_3_div_3_span_4_Template, 2, 1, \"span\", 50);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const source_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(source_r5.type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", source_r5.url);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !source_r5.url);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"p\", 45);\n    i0.ɵɵtext(2, \"Sources:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ChatWidgetComponent_div_1_div_17_div_3_div_3_Template, 5, 3, \"div\", 46);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", message_r6.sources);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 52)(1, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_div_1_div_17_div_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const message_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.giveFeedback(message_r6, \"POSITIVE\"));\n    });\n    i0.ɵɵtext(2, \" \\uD83D\\uDC4D \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_div_1_div_17_div_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const message_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.giveFeedback(message_r6, \"NEGATIVE\"));\n    });\n    i0.ɵɵtext(4, \" \\uD83D\\uDC4E \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"active\", message_r6.feedbackGiven === \"POSITIVE\");\n    i0.ɵɵproperty(\"disabled\", message_r6.feedbackGiven !== null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", message_r6.feedbackGiven === \"NEGATIVE\");\n    i0.ɵɵproperty(\"disabled\", message_r6.feedbackGiven !== null);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"div\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ChatWidgetComponent_div_1_div_17_div_3_Template, 4, 1, \"div\", 42)(4, ChatWidgetComponent_div_1_div_17_div_4_Template, 5, 6, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"user\", message_r6.role === \"user\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", message_r6.content, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", message_r6.sources && message_r6.sources.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.config.enableFeedback && message_r6.role === \"assistant\" && message_r6.id);\n  }\n}\nfunction ChatWidgetComponent_div_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\", 56);\n    i0.ɵɵelement(2, \"span\")(3, \"span\")(4, \"span\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChatWidgetComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7);\n    i0.ɵɵtemplate(3, ChatWidgetComponent_div_1_img_3_Template, 1, 1, \"img\", 8);\n    i0.ɵɵelementStart(4, \"div\")(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵtemplate(10, ChatWidgetComponent_div_1_button_10_Template, 3, 2, \"button\", 10);\n    i0.ɵɵelementStart(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleWidget());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(12, \"svg\", 12);\n    i0.ɵɵelement(13, \"line\", 13)(14, \"line\", 14);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(15, \"div\", 15);\n    i0.ɵɵtemplate(16, ChatWidgetComponent_div_1_div_16_Template, 7, 2, \"div\", 16)(17, ChatWidgetComponent_div_1_div_17_Template, 5, 5, \"div\", 17)(18, ChatWidgetComponent_div_1_div_18_Template, 5, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 19)(20, \"textarea\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ChatWidgetComponent_div_1_Template_textarea_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.currentMessage, $event) || (ctx_r1.currentMessage = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"keypress\", function ChatWidgetComponent_div_1_Template_textarea_keypress_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.handleKeyPress($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ChatWidgetComponent_div_1_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.sendMessage());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(22, \"svg\", 12);\n    i0.ɵɵelement(23, \"line\", 22)(24, \"polygon\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(25, \"div\", 24)(26, \"small\");\n    i0.ɵɵtext(27, \"Your privacy matters. We process data according to GDPR.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-theme\", ctx_r1.theme);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.config.showLogo && ctx_r1.config.logoUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.config.companyName || \"ChatQ Assist\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.config.welcomeMessage || \"How can we help you?\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.config.showThemeToggle);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.messages.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.messages);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLoading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.currentMessage);\n    i0.ɵɵproperty(\"placeholder\", ctx_r1.config.placeholderText || \"Type your message...\")(\"disabled\", ctx_r1.isLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.currentMessage.trim() || ctx_r1.isLoading);\n  }\n}\nexport class ChatWidgetComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.config = {\n      tenantId: 'default-tenant',\n      primaryColor: '#007bff',\n      secondaryColor: '#6c757d',\n      companyName: 'ChatQ Assist',\n      welcomeMessage: 'How can we help you?',\n      placeholderText: 'Type your message...',\n      position: 'bottom-right',\n      showLogo: true,\n      showThemeToggle: true,\n      enableFeedback: true\n    };\n    this.isOpen = false;\n    this.messages = [];\n    this.currentMessage = '';\n    this.sessionId = null;\n    this.isLoading = false;\n    this.theme = 'light';\n  }\n  ngOnInit() {\n    // Load config from window.chatqConfig if embedded\n    if (typeof window !== 'undefined' && window.chatqConfig) {\n      this.config = {\n        ...this.config,\n        ...window.chatqConfig\n      };\n    }\n    // Apply custom CSS variables for branding\n    this.applyBranding();\n    // Check for saved session\n    this.sessionId = localStorage.getItem('chatq-session-id');\n    // Load conversation history if session exists\n    if (this.sessionId) {\n      this.loadConversationHistory();\n    }\n    // Check system theme preference\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      this.theme = 'dark';\n    }\n  }\n  applyBranding() {\n    if (typeof document !== 'undefined') {\n      const root = document.documentElement;\n      if (this.config.primaryColor) {\n        root.style.setProperty('--chatq-primary-color', this.config.primaryColor);\n      }\n      if (this.config.secondaryColor) {\n        root.style.setProperty('--chatq-secondary-color', this.config.secondaryColor);\n      }\n      if (this.config.headerBackgroundColor) {\n        root.style.setProperty('--chatq-header-bg', this.config.headerBackgroundColor);\n      }\n      if (this.config.headerTextColor) {\n        root.style.setProperty('--chatq-header-text', this.config.headerTextColor);\n      }\n      if (this.config.userMessageColor) {\n        root.style.setProperty('--chatq-user-msg-bg', this.config.userMessageColor);\n      }\n      if (this.config.botMessageColor) {\n        root.style.setProperty('--chatq-bot-msg-bg', this.config.botMessageColor);\n      }\n    }\n  }\n  loadConversationHistory() {\n    if (!this.sessionId) return;\n    this.chatService.getHistory(this.sessionId).subscribe({\n      next: history => {\n        console.log('Loaded conversation history:', history);\n        this.messages = history.map(msg => ({\n          role: msg.role === 'USER' ? 'user' : 'assistant',\n          content: msg.content,\n          sources: [],\n          id: msg.id,\n          feedbackGiven: null\n        }));\n      },\n      error: error => {\n        console.error('Failed to load conversation history:', error);\n        // Clear invalid session\n        localStorage.removeItem('chatq-session-id');\n        this.sessionId = null;\n      }\n    });\n  }\n  toggleWidget() {\n    this.isOpen = !this.isOpen;\n  }\n  toggleTheme() {\n    this.theme = this.theme === 'light' ? 'dark' : 'light';\n  }\n  sendMessage() {\n    if (!this.currentMessage.trim() || this.isLoading) {\n      return;\n    }\n    const userMessage = {\n      role: 'user',\n      content: this.currentMessage\n    };\n    this.messages.push(userMessage);\n    const request = {\n      question: this.currentMessage,\n      sessionId: this.sessionId || undefined\n    };\n    this.currentMessage = '';\n    this.isLoading = true;\n    // Add placeholder for assistant response (will be filled with streaming tokens)\n    const assistantMessage = {\n      role: 'assistant',\n      content: '',\n      sources: []\n    };\n    this.messages.push(assistantMessage);\n    // Use streaming API\n    this.chatService.sendMessageStreaming(request).subscribe({\n      next: streamEvent => {\n        if (streamEvent.type === 'token' && streamEvent.token) {\n          // Append token exactly as received from backend\n          console.log('Received token:', JSON.stringify(streamEvent.token));\n          assistantMessage.content += streamEvent.token;\n        } else if (streamEvent.type === 'metadata' && streamEvent.metadata) {\n          // Update session and metadata\n          this.sessionId = streamEvent.metadata.sessionId;\n          localStorage.setItem('chatq-session-id', streamEvent.metadata.sessionId);\n          if (streamEvent.metadata.sources) {\n            assistantMessage.sources = streamEvent.metadata.sources;\n          }\n          if (streamEvent.metadata.handoffTriggered) {\n            this.messages.push({\n              role: 'assistant',\n              content: 'Ich verbinde Sie mit einem Mitarbeiter.'\n            });\n          }\n        } else if (streamEvent.type === 'messageId' && streamEvent.messageId) {\n          // Store message ID for feedback\n          assistantMessage.id = streamEvent.messageId;\n          assistantMessage.feedbackGiven = null;\n        } else if (streamEvent.type === 'complete') {\n          this.isLoading = false;\n        } else if (streamEvent.type === 'error') {\n          console.error('Streaming error:', streamEvent.error);\n          assistantMessage.content = 'Sorry, I encountered an error. Please try again.';\n          this.isLoading = false;\n        }\n      },\n      error: error => {\n        console.error('Chat error:', error);\n        assistantMessage.content = 'Sorry, I encountered an error. Please try again.';\n        this.isLoading = false;\n      },\n      complete: () => {\n        this.isLoading = false;\n      }\n    });\n  }\n  handleKeyPress(event) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n  giveFeedback(message, feedbackType) {\n    if (!message.id) {\n      console.warn('Cannot give feedback: message has no ID');\n      return;\n    }\n    // Prevent duplicate feedback\n    if (message.feedbackGiven) {\n      console.log('Feedback already given for this message');\n      return;\n    }\n    this.chatService.submitFeedback({\n      messageId: message.id,\n      feedbackType: feedbackType\n    }).subscribe({\n      next: () => {\n        message.feedbackGiven = feedbackType;\n        console.log('Feedback submitted successfully:', feedbackType);\n      },\n      error: error => {\n        console.error('Failed to submit feedback:', error);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ChatWidgetComponent_Factory(t) {\n      return new (t || ChatWidgetComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatWidgetComponent,\n      selectors: [[\"app-chat-widget\"]],\n      inputs: {\n        config: \"config\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"chat-button\", \"aria-label\", \"Open chat\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"chat-panel\", 4, \"ngIf\"], [\"aria-label\", \"Open chat\", 1, \"chat-button\", 3, \"click\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"], [1, \"chat-panel\"], [1, \"chat-header\"], [1, \"header-content\"], [\"alt\", \"Logo\", \"class\", \"header-logo\", 3, \"src\", 4, \"ngIf\"], [1, \"header-actions\"], [\"class\", \"icon-button\", \"aria-label\", \"Toggle theme\", 3, \"click\", 4, \"ngIf\"], [\"aria-label\", \"Close chat\", 1, \"icon-button\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"x1\", \"18\", \"y1\", \"6\", \"x2\", \"6\", \"y2\", \"18\"], [\"x1\", \"6\", \"y1\", \"6\", \"x2\", \"18\", \"y2\", \"18\"], [1, \"chat-messages\"], [\"class\", \"welcome-message\", 4, \"ngIf\"], [\"class\", \"message\", 3, \"user\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"message typing\", 4, \"ngIf\"], [1, \"chat-input\"], [\"rows\", \"1\", 3, \"ngModelChange\", \"keypress\", \"ngModel\", \"placeholder\", \"disabled\"], [\"aria-label\", \"Send message\", 3, \"click\", \"disabled\"], [\"x1\", \"22\", \"y1\", \"2\", \"x2\", \"11\", \"y2\", \"13\"], [\"points\", \"22 2 15 22 11 13 2 9 22 2\"], [1, \"privacy-notice\"], [\"alt\", \"Logo\", 1, \"header-logo\", 3, \"src\"], [\"aria-label\", \"Toggle theme\", 1, \"icon-button\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", 4, \"ngIf\"], [\"d\", \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"5\"], [\"x1\", \"12\", \"y1\", \"1\", \"x2\", \"12\", \"y2\", \"3\"], [\"x1\", \"12\", \"y1\", \"21\", \"x2\", \"12\", \"y2\", \"23\"], [\"x1\", \"4.22\", \"y1\", \"4.22\", \"x2\", \"5.64\", \"y2\", \"5.64\"], [\"x1\", \"18.36\", \"y1\", \"18.36\", \"x2\", \"19.78\", \"y2\", \"19.78\"], [\"x1\", \"1\", \"y1\", \"12\", \"x2\", \"3\", \"y2\", \"12\"], [\"x1\", \"21\", \"y1\", \"12\", \"x2\", \"23\", \"y2\", \"12\"], [\"x1\", \"4.22\", \"y1\", \"19.78\", \"x2\", \"5.64\", \"y2\", \"18.36\"], [\"x1\", \"18.36\", \"y1\", \"5.64\", \"x2\", \"19.78\", \"y2\", \"4.22\"], [1, \"welcome-message\"], [\"width\", \"48\", \"height\", \"48\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [1, \"message\"], [1, \"message-content\"], [\"class\", \"message-sources\", 4, \"ngIf\"], [\"class\", \"message-feedback\", 4, \"ngIf\"], [1, \"message-sources\"], [1, \"sources-label\"], [\"class\", \"source-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"source-item\"], [1, \"source-type\"], [\"target\", \"_blank\", 3, \"href\", 4, \"ngIf\"], [4, \"ngIf\"], [\"target\", \"_blank\", 3, \"href\"], [1, \"message-feedback\"], [\"aria-label\", \"Helpful\", 1, \"feedback-btn\", 3, \"click\", \"disabled\"], [\"aria-label\", \"Not helpful\", 1, \"feedback-btn\", 3, \"click\", \"disabled\"], [1, \"message\", \"typing\"], [1, \"typing-indicator\"]],\n      template: function ChatWidgetComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ChatWidgetComponent_button_0_Template, 3, 1, \"button\", 0)(1, ChatWidgetComponent_div_1_Template, 28, 12, \"div\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.isOpen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\"\\n\\n[_ngcontent-%COMP%]:root {\\n  --chatq-primary-color: #667eea;\\n  --chatq-secondary-color: #764ba2;\\n  --chatq-header-bg: linear-gradient(135deg, var(--chatq-primary-color) 0%, var(--chatq-secondary-color) 100%);\\n  --chatq-header-text: #ffffff;\\n  --chatq-user-msg-bg: #007bff;\\n  --chatq-bot-msg-bg: #f1f3f5;\\n}\\n\\n\\n\\n.chat-button[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 24px;\\n  right: 24px;\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 50%;\\n  border: none;\\n  cursor: pointer;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n  transition: all 0.3s ease;\\n  z-index: 1000;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.chat-button[data-theme=\\\"light\\\"][_ngcontent-%COMP%] {\\n  background: var(--chatq-header-bg);\\n  color: var(--chatq-header-text);\\n}\\n\\n.chat-button[data-theme=\\\"dark\\\"][_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #434343 0%, #000000 100%);\\n  color: white;\\n}\\n\\n.chat-button[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.1);\\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\\n}\\n\\n\\n\\n.chat-panel[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 24px;\\n  right: 24px;\\n  width: 380px;\\n  height: 600px;\\n  border-radius: 16px;\\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\\n  display: flex;\\n  flex-direction: column;\\n  z-index: 1000;\\n  overflow: hidden;\\n  animation: _ngcontent-%COMP%_slideIn 0.3s ease;\\n}\\n\\n.chat-panel[data-theme=\\\"light\\\"][_ngcontent-%COMP%] {\\n  background: white;\\n  color: #333;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%] {\\n  background: #1a1a1a;\\n  color: #f0f0f0;\\n}\\n\\n@keyframes _ngcontent-%COMP%_slideIn {\\n  from {\\n    transform: translateY(20px);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: translateY(0);\\n    opacity: 1;\\n  }\\n}\\n\\n\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  background: var(--chatq-header-bg);\\n  color: var(--chatq-header-text);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #434343 0%, #000000 100%);\\n}\\n\\n.header-logo[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  margin-right: 12px;\\n  object-fit: cover;\\n}\\n\\n.header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  margin: 0 0 4px 0;\\n  font-weight: 600;\\n}\\n\\n.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 13px;\\n  margin: 0;\\n  opacity: 0.9;\\n}\\n\\n.header-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 8px;\\n}\\n\\n.icon-button[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.2);\\n  border: none;\\n  border-radius: 8px;\\n  width: 32px;\\n  height: 32px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  color: white;\\n  transition: background 0.2s;\\n}\\n\\n.icon-button[_ngcontent-%COMP%]:hover {\\n  background: rgba(255, 255, 255, 0.3);\\n}\\n\\n\\n\\n.chat-messages[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 16px;\\n}\\n\\n.chat-panel[data-theme=\\\"light\\\"][_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%] {\\n  background: #f5f5f5;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%] {\\n  background: #0f0f0f;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px 20px;\\n  color: #999;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n  opacity: 0.5;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  margin: 0 0 8px 0;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  margin: 0;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.message.user[_ngcontent-%COMP%] {\\n  align-items: flex-end;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n  max-width: 80%;\\n  padding: 12px 16px;\\n  border-radius: 12px;\\n  font-size: 14px;\\n  line-height: 1.5;\\n  word-wrap: break-word;\\n  overflow-wrap: break-word;\\n  white-space: pre-wrap;\\n}\\n\\n.message[_ngcontent-%COMP%]:not(.user)   .message-content[_ngcontent-%COMP%] {\\n  background: white;\\n  color: #333;\\n  border-bottom-left-radius: 4px;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:not(.user)   .message-content[_ngcontent-%COMP%] {\\n  background: #2a2a2a;\\n  color: #f0f0f0;\\n}\\n\\n.message.user[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  border-bottom-right-radius: 4px;\\n}\\n\\n.message-sources[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  padding: 8px;\\n  background: rgba(0, 0, 0, 0.03);\\n  border-radius: 8px;\\n  max-width: 80%;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .message-sources[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.05);\\n}\\n\\n.sources-label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  margin: 0 0 4px 0;\\n}\\n\\n.source-item[_ngcontent-%COMP%] {\\n  margin: 4px 0;\\n  display: flex;\\n  gap: 8px;\\n  align-items: center;\\n}\\n\\n.source-type[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  padding: 2px 6px;\\n  background: #667eea;\\n  color: white;\\n  border-radius: 4px;\\n  text-transform: uppercase;\\n  font-weight: 600;\\n}\\n\\n\\n\\n.typing-indicator[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 4px;\\n  padding: 12px 16px;\\n  background: white;\\n  border-radius: 12px;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%] {\\n  background: #2a2a2a;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 8px;\\n  height: 8px;\\n  background: #999;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_typing 1.4s infinite;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) {\\n  animation-delay: 0.2s;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3) {\\n  animation-delay: 0.4s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_typing {\\n  0%, 60%, 100% {\\n    opacity: 0.3;\\n  }\\n  30% {\\n    opacity: 1;\\n  }\\n}\\n\\n\\n\\n.chat-input[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  display: flex;\\n  gap: 8px;\\n  align-items: flex-end;\\n  border-top: 1px solid #e0e0e0;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%] {\\n  border-top-color: #333;\\n  background: #1a1a1a;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 12px;\\n  border: 1px solid #e0e0e0;\\n  border-radius: 8px;\\n  font-size: 14px;\\n  font-family: inherit;\\n  resize: none;\\n  max-height: 100px;\\n}\\n\\n.chat-panel[data-theme=\\\"light\\\"][_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  background: white;\\n  color: #333;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  background: #2a2a2a;\\n  color: #f0f0f0;\\n  border-color: #444;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #667eea;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 8px;\\n  border: none;\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: opacity 0.2s;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover {\\n  opacity: 0.9;\\n}\\n\\n\\n\\n.message-feedback[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 8px;\\n  margin-top: 8px;\\n}\\n\\n.feedback-btn[_ngcontent-%COMP%] {\\n  background: transparent;\\n  border: 1px solid #e0e0e0;\\n  border-radius: 6px;\\n  padding: 4px 12px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  opacity: 0.6;\\n}\\n\\n.feedback-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  opacity: 1;\\n  background: rgba(102, 126, 234, 0.1);\\n  border-color: #667eea;\\n  transform: scale(1.1);\\n}\\n\\n.feedback-btn[_ngcontent-%COMP%]:disabled {\\n  cursor: not-allowed;\\n}\\n\\n.feedback-btn.active[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  background: rgba(102, 126, 234, 0.2);\\n  border-color: #667eea;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .feedback-btn[_ngcontent-%COMP%] {\\n  border-color: #444;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .feedback-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: rgba(102, 126, 234, 0.2);\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .feedback-btn.active[_ngcontent-%COMP%] {\\n  background: rgba(102, 126, 234, 0.3);\\n}\\n\\n\\n\\n.privacy-notice[_ngcontent-%COMP%] {\\n  padding: 12px 16px;\\n  text-align: center;\\n  border-top: 1px solid #e0e0e0;\\n}\\n\\n.chat-panel[data-theme=\\\"dark\\\"][_ngcontent-%COMP%]   .privacy-notice[_ngcontent-%COMP%] {\\n  border-top-color: #333;\\n}\\n\\n.privacy-notice[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n  font-size: 11px;\\n  color: #999;\\n}\\n\\n\\n\\n@media (max-width: 480px) {\\n  .chat-panel[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n    bottom: 0;\\n    right: 0;\\n    border-radius: 0;\\n  }\\n\\n  .chat-button[_ngcontent-%COMP%] {\\n    bottom: 16px;\\n    right: 16px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0LXdpZGdldC9jaGF0LXdpZGdldC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjtBQUMvQjtFQUNFLDhCQUE4QjtFQUM5QixnQ0FBZ0M7RUFDaEMsNEdBQTRHO0VBQzVHLDRCQUE0QjtFQUM1Qiw0QkFBNEI7RUFDNUIsMkJBQTJCO0FBQzdCOztBQUVBLGdCQUFnQjtBQUNoQjtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osV0FBVztFQUNYLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0VBQ2YsMENBQTBDO0VBQzFDLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxrQ0FBa0M7RUFDbEMsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsNkRBQTZEO0VBQzdELFlBQVk7QUFDZDs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQix5Q0FBeUM7QUFDM0M7O0FBRUEsZUFBZTtBQUNmO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixXQUFXO0VBQ1gsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsMENBQTBDO0VBQzFDLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQiw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRTtJQUNFLDJCQUEyQjtJQUMzQixVQUFVO0VBQ1o7RUFDQTtJQUNFLHdCQUF3QjtJQUN4QixVQUFVO0VBQ1o7QUFDRjs7QUFFQSxXQUFXO0FBQ1g7RUFDRSxhQUFhO0VBQ2Isa0NBQWtDO0VBQ2xDLCtCQUErQjtFQUMvQixhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtBQUNy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ZXMgZm9yIEJyYW5kaW5nICovXG46cm9vdCB7XG4gIC0tY2hhdHEtcHJpbWFyeS1jb2xvcjogIzY2N2VlYTtcbiAgLS1jaGF0cS1zZWNvbmRhcnktY29sb3I6ICM3NjRiYTI7XG4gIC0tY2hhdHEtaGVhZGVyLWJnOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1jaGF0cS1wcmltYXJ5LWNvbG9yKSAwJSwgdmFyKC0tY2hhdHEtc2Vjb25kYXJ5LWNvbG9yKSAxMDAlKTtcbiAgLS1jaGF0cS1oZWFkZXItdGV4dDogI2ZmZmZmZjtcbiAgLS1jaGF0cS11c2VyLW1zZy1iZzogIzAwN2JmZjtcbiAgLS1jaGF0cS1ib3QtbXNnLWJnOiAjZjFmM2Y1O1xufVxuXG4vKiBDaGF0IEJ1dHRvbiAqL1xuLmNoYXQtYnV0dG9uIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDI0cHg7XG4gIHJpZ2h0OiAyNHB4O1xuICB3aWR0aDogNjBweDtcbiAgaGVpZ2h0OiA2MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIHotaW5kZXg6IDEwMDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uY2hhdC1idXR0b25bZGF0YS10aGVtZT1cImxpZ2h0XCJdIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tY2hhdHEtaGVhZGVyLWJnKTtcbiAgY29sb3I6IHZhcigtLWNoYXRxLWhlYWRlci10ZXh0KTtcbn1cblxuLmNoYXQtYnV0dG9uW2RhdGEtdGhlbWU9XCJkYXJrXCJdIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzQzNDM0MyAwJSwgIzAwMDAwMCAxMDAlKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uY2hhdC1idXR0b246aG92ZXIge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG4gIGJveC1zaGFkb3c6IDAgNnB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG4vKiBDaGF0IFBhbmVsICovXG4uY2hhdC1wYW5lbCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAyNHB4O1xuICByaWdodDogMjRweDtcbiAgd2lkdGg6IDM4MHB4O1xuICBoZWlnaHQ6IDYwMHB4O1xuICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICBib3gtc2hhZG93OiAwIDhweCAyNHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHotaW5kZXg6IDEwMDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2U7XG59XG5cbi5jaGF0LXBhbmVsW2RhdGEtdGhlbWU9XCJsaWdodFwiXSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBjb2xvcjogIzMzMztcbn1cblxuLmNoYXQtcGFuZWxbZGF0YS10aGVtZT1cImRhcmtcIl0ge1xuICBiYWNrZ3JvdW5kOiAjMWExYTFhO1xuICBjb2xvcjogI2YwZjBmMDtcbn1cblxuQGtleWZyYW1lcyBzbGlkZUluIHtcbiAgZnJvbSB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpO1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbiAgdG8ge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG59XG5cbi8qIEhlYWRlciAqL1xuLmNoYXQtaGVhZGVyIHtcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tY2hhdHEtaGVhZGVyLWJnKTtcbiAgY29sb3I6IHZhcigtLWNoYXRxLWhlYWRlci10ZXh0KTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwiZGFya1wiXSAuY2hhdC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNDM0MzQzIDAlLCAjMDAwMDAwIDEwMCUpO1xufVxuXG4uaGVhZGVyLWxvZ28ge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbi1yaWdodDogMTJweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbi5oZWFkZXItY29udGVudCBoMyB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbWFyZ2luOiAwIDAgNHB4IDA7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5oZWFkZXItY29udGVudCBwIHtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBtYXJnaW46IDA7XG4gIG9wYWNpdHk6IDAuOTtcbn1cblxuLmhlYWRlci1hY3Rpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiA4cHg7XG59XG5cbi5pY29uLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzO1xufVxuXG4uaWNvbi1idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7XG59XG5cbi8qIE1lc3NhZ2VzICovXG4uY2hhdC1tZXNzYWdlcyB7XG4gIGZsZXg6IDE7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTZweDtcbn1cblxuLmNoYXQtcGFuZWxbZGF0YS10aGVtZT1cImxpZ2h0XCJdIC5jaGF0LW1lc3NhZ2VzIHtcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbn1cblxuLmNoYXQtcGFuZWxbZGF0YS10aGVtZT1cImRhcmtcIl0gLmNoYXQtbWVzc2FnZXMge1xuICBiYWNrZ3JvdW5kOiAjMGYwZjBmO1xufVxuXG4ud2VsY29tZS1tZXNzYWdlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiA0MHB4IDIwcHg7XG4gIGNvbG9yOiAjOTk5O1xufVxuXG4ud2VsY29tZS1tZXNzYWdlIHN2ZyB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLndlbGNvbWUtbWVzc2FnZSBoNCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbWFyZ2luOiAwIDAgOHB4IDA7XG59XG5cbi53ZWxjb21lLW1lc3NhZ2UgcCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4ubWVzc2FnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogOHB4O1xufVxuXG4ubWVzc2FnZS51c2VyIHtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xufVxuXG4ubWVzc2FnZS1jb250ZW50IHtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIHBhZGRpbmc6IDEycHggMTZweDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMS41O1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLm1lc3NhZ2U6bm90KC51c2VyKSAubWVzc2FnZS1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGNvbG9yOiAjMzMzO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7XG59XG5cbi5jaGF0LXBhbmVsW2RhdGEtdGhlbWU9XCJkYXJrXCJdIC5tZXNzYWdlOm5vdCgudXNlcikgLm1lc3NhZ2UtY29udGVudCB7XG4gIGJhY2tncm91bmQ6ICMyYTJhMmE7XG4gIGNvbG9yOiAjZjBmMGYwO1xufVxuXG4ubWVzc2FnZS51c2VyIC5tZXNzYWdlLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA0cHg7XG59XG5cbi5tZXNzYWdlLXNvdXJjZXMge1xuICBmb250LXNpemU6IDEycHg7XG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjAzKTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBtYXgtd2lkdGg6IDgwJTtcbn1cblxuLmNoYXQtcGFuZWxbZGF0YS10aGVtZT1cImRhcmtcIl0gLm1lc3NhZ2Utc291cmNlcyB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG59XG5cbi5zb3VyY2VzLWxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbWFyZ2luOiAwIDAgNHB4IDA7XG59XG5cbi5zb3VyY2UtaXRlbSB7XG4gIG1hcmdpbjogNHB4IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogOHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uc291cmNlLXR5cGUge1xuICBmb250LXNpemU6IDEwcHg7XG4gIHBhZGRpbmc6IDJweCA2cHg7XG4gIGJhY2tncm91bmQ6ICM2NjdlZWE7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4vKiBUeXBpbmcgSW5kaWNhdG9yICovXG4udHlwaW5nLWluZGljYXRvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogNHB4O1xuICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG59XG5cbi5jaGF0LXBhbmVsW2RhdGEtdGhlbWU9XCJkYXJrXCJdIC50eXBpbmctaW5kaWNhdG9yIHtcbiAgYmFja2dyb3VuZDogIzJhMmEyYTtcbn1cblxuLnR5cGluZy1pbmRpY2F0b3Igc3BhbiB7XG4gIHdpZHRoOiA4cHg7XG4gIGhlaWdodDogOHB4O1xuICBiYWNrZ3JvdW5kOiAjOTk5O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGFuaW1hdGlvbjogdHlwaW5nIDEuNHMgaW5maW5pdGU7XG59XG5cbi50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDIpIHtcbiAgYW5pbWF0aW9uLWRlbGF5OiAwLjJzO1xufVxuXG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgzKSB7XG4gIGFuaW1hdGlvbi1kZWxheTogMC40cztcbn1cblxuQGtleWZyYW1lcyB0eXBpbmcge1xuICAwJSwgNjAlLCAxMDAlIHtcbiAgICBvcGFjaXR5OiAwLjM7XG4gIH1cbiAgMzAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG59XG5cbi8qIElucHV0ICovXG4uY2hhdC1pbnB1dCB7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogOHB4O1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwiZGFya1wiXSAuY2hhdC1pbnB1dCB7XG4gIGJvcmRlci10b3AtY29sb3I6ICMzMzM7XG4gIGJhY2tncm91bmQ6ICMxYTFhMWE7XG59XG5cbi5jaGF0LWlucHV0IHRleHRhcmVhIHtcbiAgZmxleDogMTtcbiAgcGFkZGluZzogMTJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICByZXNpemU6IG5vbmU7XG4gIG1heC1oZWlnaHQ6IDEwMHB4O1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwibGlnaHRcIl0gLmNoYXQtaW5wdXQgdGV4dGFyZWEge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi5jaGF0LXBhbmVsW2RhdGEtdGhlbWU9XCJkYXJrXCJdIC5jaGF0LWlucHV0IHRleHRhcmVhIHtcbiAgYmFja2dyb3VuZDogIzJhMmEyYTtcbiAgY29sb3I6ICNmMGYwZjA7XG4gIGJvcmRlci1jb2xvcjogIzQ0NDtcbn1cblxuLmNoYXQtaW5wdXQgdGV4dGFyZWE6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItY29sb3I6ICM2NjdlZWE7XG59XG5cbi5jaGF0LWlucHV0IGJ1dHRvbiB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycztcbn1cblxuLmNoYXQtaW5wdXQgYnV0dG9uOmRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC41O1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4uY2hhdC1pbnB1dCBidXR0b246bm90KDpkaXNhYmxlZCk6aG92ZXIge1xuICBvcGFjaXR5OiAwLjk7XG59XG5cbi8qIE1lc3NhZ2UgRmVlZGJhY2sgKi9cbi5tZXNzYWdlLWZlZWRiYWNrIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiA4cHg7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLmZlZWRiYWNrLWJ0biB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIHBhZGRpbmc6IDRweCAxMnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIG9wYWNpdHk6IDAuNjtcbn1cblxuLmZlZWRiYWNrLWJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gIG9wYWNpdHk6IDE7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4xKTtcbiAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG59XG5cbi5mZWVkYmFjay1idG46ZGlzYWJsZWQge1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4uZmVlZGJhY2stYnRuLmFjdGl2ZSB7XG4gIG9wYWNpdHk6IDE7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4yKTtcbiAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhO1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwiZGFya1wiXSAuZmVlZGJhY2stYnRuIHtcbiAgYm9yZGVyLWNvbG9yOiAjNDQ0O1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwiZGFya1wiXSAuZmVlZGJhY2stYnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgYmFja2dyb3VuZDogcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjIpO1xufVxuXG4uY2hhdC1wYW5lbFtkYXRhLXRoZW1lPVwiZGFya1wiXSAuZmVlZGJhY2stYnRuLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4zKTtcbn1cblxuLyogUHJpdmFjeSBOb3RpY2UgKi9cbi5wcml2YWN5LW5vdGljZSB7XG4gIHBhZGRpbmc6IDEycHggMTZweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2UwZTBlMDtcbn1cblxuLmNoYXQtcGFuZWxbZGF0YS10aGVtZT1cImRhcmtcIl0gLnByaXZhY3ktbm90aWNlIHtcbiAgYm9yZGVyLXRvcC1jb2xvcjogIzMzMztcbn1cblxuLnByaXZhY3ktbm90aWNlIHNtYWxsIHtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBjb2xvcjogIzk5OTtcbn1cblxuLyogTW9iaWxlIFJlc3BvbnNpdmUgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAuY2hhdC1wYW5lbCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJvdHRvbTogMDtcbiAgICByaWdodDogMDtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICB9XG5cbiAgLmNoYXQtYnV0dG9uIHtcbiAgICBib3R0b206IDE2cHg7XG4gICAgcmlnaHQ6IDE2cHg7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵlistener","ChatWidgetComponent_button_0_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","toggleWidget","ɵɵelement","ɵɵelementEnd","ɵɵproperty","config","logoUrl","ɵɵsanitizeUrl","ChatWidgetComponent_div_1_button_10_Template_button_click_0_listener","_r4","toggleTheme","ɵɵtemplate","ChatWidgetComponent_div_1_button_10__svg_svg_1_Template","ChatWidgetComponent_div_1_button_10__svg_svg_2_Template","ɵɵadvance","theme","ɵɵtext","ɵɵtextInterpolate1","companyName","ɵɵtextInterpolate","welcomeMessage","source_r5","url","title","ChatWidgetComponent_div_1_div_17_div_3_div_3_a_3_Template","ChatWidgetComponent_div_1_div_17_div_3_div_3_span_4_Template","type","ChatWidgetComponent_div_1_div_17_div_3_div_3_Template","message_r6","sources","ChatWidgetComponent_div_1_div_17_div_4_Template_button_click_1_listener","_r7","$implicit","giveFeedback","ChatWidgetComponent_div_1_div_17_div_4_Template_button_click_3_listener","ɵɵclassProp","feedbackGiven","ChatWidgetComponent_div_1_div_17_div_3_Template","ChatWidgetComponent_div_1_div_17_div_4_Template","role","content","length","enableFeedback","id","ChatWidgetComponent_div_1_img_3_Template","ChatWidgetComponent_div_1_button_10_Template","ChatWidgetComponent_div_1_Template_button_click_11_listener","_r3","ChatWidgetComponent_div_1_div_16_Template","ChatWidgetComponent_div_1_div_17_Template","ChatWidgetComponent_div_1_div_18_Template","ɵɵtwoWayListener","ChatWidgetComponent_div_1_Template_textarea_ngModelChange_20_listener","$event","ɵɵtwoWayBindingSet","currentMessage","ChatWidgetComponent_div_1_Template_textarea_keypress_20_listener","handleKeyPress","ChatWidgetComponent_div_1_Template_button_click_21_listener","sendMessage","showLogo","showThemeToggle","messages","isLoading","ɵɵtwoWayProperty","placeholderText","trim","ChatWidgetComponent","constructor","chatService","tenantId","primaryColor","secondaryColor","position","isOpen","sessionId","ngOnInit","window","chatqConfig","applyBranding","localStorage","getItem","loadConversationHistory","matchMedia","matches","document","root","documentElement","style","setProperty","headerBackgroundColor","headerTextColor","userMessageColor","botMessageColor","getHistory","subscribe","next","history","console","log","map","msg","error","removeItem","userMessage","push","request","question","undefined","assistantMessage","sendMessageStreaming","streamEvent","token","JSON","stringify","metadata","setItem","handoffTriggered","messageId","complete","event","key","shiftKey","preventDefault","message","feedbackType","warn","submitFeedback","ɵɵdirectiveInject","i1","ChatService","selectors","inputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ChatWidgetComponent_Template","rf","ctx","ChatWidgetComponent_button_0_Template","ChatWidgetComponent_div_1_Template","i2","NgForOf","NgIf","i3","DefaultValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\bened\\IdeaProjects\\ChatQ-Assist\\chatq-assist-frontend\\src\\app\\components\\chat-widget\\chat-widget.component.ts","C:\\Users\\bened\\IdeaProjects\\ChatQ-Assist\\chatq-assist-frontend\\src\\app\\components\\chat-widget\\chat-widget.component.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ChatService, ChatRequest, ChatResponse } from '../../services/chat.service';\nimport { WidgetConfig } from '../../models/widget-config.model';\n\ninterface Message {\n  role: 'user' | 'assistant';\n  content: string;\n  sources?: any[];\n  id?: number; // Message ID for feedback\n  feedbackGiven?: 'POSITIVE' | 'NEGATIVE' | null;\n}\n\n@Component({\n  selector: 'app-chat-widget',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './chat-widget.component.html',\n  styleUrls: ['./chat-widget.component.css']\n})\nexport class ChatWidgetComponent implements OnInit {\n  @Input() config: WidgetConfig = {\n    tenantId: 'default-tenant',\n    primaryColor: '#007bff',\n    secondaryColor: '#6c757d',\n    companyName: 'ChatQ Assist',\n    welcomeMessage: 'How can we help you?',\n    placeholderText: 'Type your message...',\n    position: 'bottom-right',\n    showLogo: true,\n    showThemeToggle: true,\n    enableFeedback: true\n  };\n\n  isOpen = false;\n  messages: Message[] = [];\n  currentMessage = '';\n  sessionId: string | null = null;\n  isLoading = false;\n  theme: 'light' | 'dark' = 'light';\n\n  constructor(private chatService: ChatService) {}\n\n  ngOnInit() {\n    // Load config from window.chatqConfig if embedded\n    if (typeof window !== 'undefined' && (window as any).chatqConfig) {\n      this.config = { ...this.config, ...(window as any).chatqConfig };\n    }\n\n    // Apply custom CSS variables for branding\n    this.applyBranding();\n\n    // Check for saved session\n    this.sessionId = localStorage.getItem('chatq-session-id');\n\n    // Load conversation history if session exists\n    if (this.sessionId) {\n      this.loadConversationHistory();\n    }\n\n    // Check system theme preference\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      this.theme = 'dark';\n    }\n  }\n\n  applyBranding() {\n    if (typeof document !== 'undefined') {\n      const root = document.documentElement;\n      if (this.config.primaryColor) {\n        root.style.setProperty('--chatq-primary-color', this.config.primaryColor);\n      }\n      if (this.config.secondaryColor) {\n        root.style.setProperty('--chatq-secondary-color', this.config.secondaryColor);\n      }\n      if (this.config.headerBackgroundColor) {\n        root.style.setProperty('--chatq-header-bg', this.config.headerBackgroundColor);\n      }\n      if (this.config.headerTextColor) {\n        root.style.setProperty('--chatq-header-text', this.config.headerTextColor);\n      }\n      if (this.config.userMessageColor) {\n        root.style.setProperty('--chatq-user-msg-bg', this.config.userMessageColor);\n      }\n      if (this.config.botMessageColor) {\n        root.style.setProperty('--chatq-bot-msg-bg', this.config.botMessageColor);\n      }\n    }\n  }\n\n  loadConversationHistory() {\n    if (!this.sessionId) return;\n\n    this.chatService.getHistory(this.sessionId).subscribe({\n      next: (history) => {\n        console.log('Loaded conversation history:', history);\n        this.messages = history.map(msg => ({\n          role: msg.role === 'USER' ? 'user' : 'assistant',\n          content: msg.content,\n          sources: [],\n          id: msg.id,\n          feedbackGiven: null\n        }));\n      },\n      error: (error) => {\n        console.error('Failed to load conversation history:', error);\n        // Clear invalid session\n        localStorage.removeItem('chatq-session-id');\n        this.sessionId = null;\n      }\n    });\n  }\n\n  toggleWidget() {\n    this.isOpen = !this.isOpen;\n  }\n\n  toggleTheme() {\n    this.theme = this.theme === 'light' ? 'dark' : 'light';\n  }\n\n  sendMessage() {\n    if (!this.currentMessage.trim() || this.isLoading) {\n      return;\n    }\n\n    const userMessage: Message = {\n      role: 'user',\n      content: this.currentMessage\n    };\n    this.messages.push(userMessage);\n\n    const request: ChatRequest = {\n      question: this.currentMessage,\n      sessionId: this.sessionId || undefined\n    };\n\n    this.currentMessage = '';\n    this.isLoading = true;\n\n    // Add placeholder for assistant response (will be filled with streaming tokens)\n    const assistantMessage: Message = {\n      role: 'assistant',\n      content: '',\n      sources: []\n    };\n    this.messages.push(assistantMessage);\n\n    // Use streaming API\n    this.chatService.sendMessageStreaming(request).subscribe({\n      next: (streamEvent) => {\n        if (streamEvent.type === 'token' && streamEvent.token) {\n          // Append token exactly as received from backend\n          console.log('Received token:', JSON.stringify(streamEvent.token));\n          assistantMessage.content += streamEvent.token;\n        } else if (streamEvent.type === 'metadata' && streamEvent.metadata) {\n          // Update session and metadata\n          this.sessionId = streamEvent.metadata.sessionId;\n          localStorage.setItem('chatq-session-id', streamEvent.metadata.sessionId);\n\n          if (streamEvent.metadata.sources) {\n            assistantMessage.sources = streamEvent.metadata.sources;\n          }\n\n          if (streamEvent.metadata.handoffTriggered) {\n            this.messages.push({\n              role: 'assistant',\n              content: 'Ich verbinde Sie mit einem Mitarbeiter.'\n            });\n          }\n        } else if (streamEvent.type === 'messageId' && streamEvent.messageId) {\n          // Store message ID for feedback\n          assistantMessage.id = streamEvent.messageId;\n          assistantMessage.feedbackGiven = null;\n        } else if (streamEvent.type === 'complete') {\n          this.isLoading = false;\n        } else if (streamEvent.type === 'error') {\n          console.error('Streaming error:', streamEvent.error);\n          assistantMessage.content = 'Sorry, I encountered an error. Please try again.';\n          this.isLoading = false;\n        }\n      },\n      error: (error) => {\n        console.error('Chat error:', error);\n        assistantMessage.content = 'Sorry, I encountered an error. Please try again.';\n        this.isLoading = false;\n      },\n      complete: () => {\n        this.isLoading = false;\n      }\n    });\n  }\n\n  handleKeyPress(event: KeyboardEvent) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n\n  giveFeedback(message: Message, feedbackType: 'POSITIVE' | 'NEGATIVE') {\n    if (!message.id) {\n      console.warn('Cannot give feedback: message has no ID');\n      return;\n    }\n\n    // Prevent duplicate feedback\n    if (message.feedbackGiven) {\n      console.log('Feedback already given for this message');\n      return;\n    }\n\n    this.chatService.submitFeedback({\n      messageId: message.id,\n      feedbackType: feedbackType\n    }).subscribe({\n      next: () => {\n        message.feedbackGiven = feedbackType;\n        console.log('Feedback submitted successfully:', feedbackType);\n      },\n      error: (error) => {\n        console.error('Failed to submit feedback:', error);\n      }\n    });\n  }\n}\n","<!-- Floating Chat Button -->\n<button\n  *ngIf=\"!isOpen\"\n  class=\"chat-button\"\n  [attr.data-theme]=\"theme\"\n  (click)=\"toggleWidget()\"\n  aria-label=\"Open chat\">\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\n  </svg>\n</button>\n\n<!-- Chat Panel -->\n<div *ngIf=\"isOpen\" class=\"chat-panel\" [attr.data-theme]=\"theme\">\n  <!-- Header -->\n  <div class=\"chat-header\">\n    <div class=\"header-content\">\n      <img *ngIf=\"config.showLogo && config.logoUrl\" [src]=\"config.logoUrl\" alt=\"Logo\" class=\"header-logo\">\n      <div>\n        <h3>{{ config.companyName || 'ChatQ Assist' }}</h3>\n        <p>{{ config.welcomeMessage || 'How can we help you?' }}</p>\n      </div>\n    </div>\n    <div class=\"header-actions\">\n      <button *ngIf=\"config.showThemeToggle\" (click)=\"toggleTheme()\" class=\"icon-button\" aria-label=\"Toggle theme\">\n        <svg *ngIf=\"theme === 'light'\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path>\n        </svg>\n        <svg *ngIf=\"theme === 'dark'\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>\n          <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>\n          <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>\n          <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>\n          <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>\n          <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>\n          <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>\n          <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>\n          <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>\n        </svg>\n      </button>\n      <button (click)=\"toggleWidget()\" class=\"icon-button\" aria-label=\"Close chat\">\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n          <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n        </svg>\n      </button>\n    </div>\n  </div>\n\n  <!-- Messages -->\n  <div class=\"chat-messages\">\n    <div *ngIf=\"messages.length === 0\" class=\"welcome-message\">\n      <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n        <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\n      </svg>\n      <h4>Welcome to {{ config.companyName || 'ChatQ Assist' }}</h4>\n      <p>{{ config.welcomeMessage || 'Ask us anything about our products and services.' }}</p>\n    </div>\n\n    <div *ngFor=\"let message of messages\" class=\"message\" [class.user]=\"message.role === 'user'\">\n      <div class=\"message-content\">\n        {{ message.content }}\n      </div>\n      <div *ngIf=\"message.sources && message.sources.length > 0\" class=\"message-sources\">\n        <p class=\"sources-label\">Sources:</p>\n        <div *ngFor=\"let source of message.sources\" class=\"source-item\">\n          <span class=\"source-type\">{{ source.type }}</span>\n          <a *ngIf=\"source.url\" [href]=\"source.url\" target=\"_blank\">{{ source.title }}</a>\n          <span *ngIf=\"!source.url\">{{ source.title }}</span>\n        </div>\n      </div>\n      <!-- Feedback buttons for assistant messages -->\n      <div *ngIf=\"config.enableFeedback && message.role === 'assistant' && message.id\" class=\"message-feedback\">\n        <button\n          class=\"feedback-btn\"\n          [class.active]=\"message.feedbackGiven === 'POSITIVE'\"\n          [disabled]=\"message.feedbackGiven !== null\"\n          (click)=\"giveFeedback(message, 'POSITIVE')\"\n          aria-label=\"Helpful\">\n          👍\n        </button>\n        <button\n          class=\"feedback-btn\"\n          [class.active]=\"message.feedbackGiven === 'NEGATIVE'\"\n          [disabled]=\"message.feedbackGiven !== null\"\n          (click)=\"giveFeedback(message, 'NEGATIVE')\"\n          aria-label=\"Not helpful\">\n          👎\n        </button>\n      </div>\n    </div>\n\n    <div *ngIf=\"isLoading\" class=\"message typing\">\n      <div class=\"typing-indicator\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Input -->\n  <div class=\"chat-input\">\n    <textarea\n      [(ngModel)]=\"currentMessage\"\n      (keypress)=\"handleKeyPress($event)\"\n      [placeholder]=\"config.placeholderText || 'Type your message...'\"\n      rows=\"1\"\n      [disabled]=\"isLoading\"></textarea>\n    <button\n      (click)=\"sendMessage()\"\n      [disabled]=\"!currentMessage.trim() || isLoading\"\n      aria-label=\"Send message\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n        <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\n        <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\n      </svg>\n    </button>\n  </div>\n\n  <!-- DSGVO Notice -->\n  <div class=\"privacy-notice\">\n    <small>Your privacy matters. We process data according to GDPR.</small>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}