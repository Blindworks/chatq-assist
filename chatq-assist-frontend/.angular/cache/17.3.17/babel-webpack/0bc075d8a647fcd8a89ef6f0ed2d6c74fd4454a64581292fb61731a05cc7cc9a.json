{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user-management.service\";\nimport * as i2 from \"../../services/tenant.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UserManagementComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tenant_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tenant_r1.tenantId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(tenant_r1.name);\n  }\n}\nfunction UserManagementComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction UserManagementComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"L\\u00E4dt...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_13_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"label\");\n    i0.ɵɵtext(2, \"Passwort *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 28);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_div_11_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.password, $event) || (ctx_r1.newUser.password = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.password);\n  }\n}\nfunction UserManagementComponent_div_13_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"label\");\n    i0.ɵɵtext(2, \"Neues Passwort (leer lassen f\\u00FCr unver\\u00E4ndert)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 29);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_div_12_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.password, $event) || (ctx_r1.newUser.password = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.password);\n  }\n}\nfunction UserManagementComponent_div_13_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tenant_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tenant_r6.tenantId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", tenant_r6.name, \" (\", tenant_r6.tenantId, \") \");\n  }\n}\nfunction UserManagementComponent_div_13_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r7.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(role_r7.label);\n  }\n}\nfunction UserManagementComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"div\", 16)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_13_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeForm());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 18)(8, \"label\");\n    i0.ɵɵtext(9, \"Benutzername *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 19);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.username, $event) || (ctx_r1.newUser.username = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, UserManagementComponent_div_13_div_11_Template, 4, 1, \"div\", 20)(12, UserManagementComponent_div_13_div_12_Template, 4, 1, \"div\", 20);\n    i0.ɵɵelementStart(13, \"div\", 18)(14, \"label\");\n    i0.ɵɵtext(15, \"E-Mail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 21);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.email, $event) || (ctx_r1.newUser.email = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 18)(18, \"label\");\n    i0.ɵɵtext(19, \"Tenant *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"select\", 22);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_Template_select_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.tenantId, $event) || (ctx_r1.newUser.tenantId = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(21, UserManagementComponent_div_13_option_21_Template, 2, 3, \"option\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 18)(23, \"label\");\n    i0.ɵɵtext(24, \"Rolle *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"select\", 23);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_Template_select_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.role, $event) || (ctx_r1.newUser.role = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(26, UserManagementComponent_div_13_option_26_Template, 2, 2, \"option\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 24)(28, \"label\")(29, \"input\", 25);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_div_13_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newUser.enabled, $event) || (ctx_r1.newUser.enabled = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \" Benutzer ist aktiv \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 26)(32, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_13_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeForm());\n    });\n    i0.ɵɵtext(33, \"Abbrechen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_13_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveUser());\n    });\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.editingUser ? \"Benutzer bearbeiten\" : \"Neuen Benutzer erstellen\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.username);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.editingUser !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.editingUser);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.editingUser);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.tenantId);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.editingUser !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.tenants);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.role);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.roles);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newUser.enabled);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.loading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.editingUser ? \"Speichern\" : \"Erstellen\", \" \");\n  }\n}\nfunction UserManagementComponent_div_14_table_1_tr_18_button_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_14_table_1_tr_18_button_24_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const user_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.deleteUser(user_r9));\n    });\n    i0.ɵɵtext(1, \" \\uD83D\\uDDD1\\uFE0F \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_14_table_1_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"span\", 35);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"span\", 36);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"span\", 37);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"div\", 38)(20, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_14_table_1_tr_18_Template_button_click_20_listener() {\n      const user_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.openEditForm(user_r9));\n    });\n    i0.ɵɵtext(21, \"\\u270F\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_14_table_1_tr_18_Template_button_click_22_listener() {\n      const user_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleStatus(user_r9));\n    });\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, UserManagementComponent_div_14_table_1_tr_18_button_24_Template, 2, 0, \"button\", 41);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"inactive\", !user_r9.enabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r9.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r9.email || \"-\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r9.tenantName || user_r9.tenantId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getRoleBadgeClass(user_r9.role));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getRoleLabel(user_r9.role), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", user_r9.enabled)(\"inactive\", !user_r9.enabled);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", user_r9.enabled ? \"\\u2713 Aktiv\" : \"\\u2715 Inaktiv\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 19, user_r9.createdAt, \"dd.MM.yyyy\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵclassProp(\"btn-warning\", user_r9.enabled)(\"btn-success\", !user_r9.enabled);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", user_r9.enabled ? \"\\uD83D\\uDEAB\" : \"\\u2713\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", user_r9.username !== \"admin\");\n  }\n}\nfunction UserManagementComponent_div_14_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 33)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Benutzername\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"E-Mail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Tenant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Rolle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Erstellt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Aktionen\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, UserManagementComponent_div_14_table_1_tr_18_Template, 25, 22, \"tr\", 34);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.users);\n  }\n}\nfunction UserManagementComponent_div_14_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedTenantFilter ? \"Keine Benutzer f\\u00FCr diesen Tenant gefunden.\" : \"Keine Benutzer vorhanden.\");\n  }\n}\nfunction UserManagementComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, UserManagementComponent_div_14_table_1_Template, 19, 1, \"table\", 31)(2, UserManagementComponent_div_14_div_2_Template, 3, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.users.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.users.length === 0);\n  }\n}\nexport class UserManagementComponent {\n  constructor(userService, tenantService) {\n    this.userService = userService;\n    this.tenantService = tenantService;\n    this.users = [];\n    this.tenants = [];\n    this.loading = false;\n    this.error = null;\n    this.showCreateForm = false;\n    this.editingUser = null;\n    this.selectedTenantFilter = '';\n    this.newUser = {\n      username: '',\n      password: '',\n      email: '',\n      role: 'TENANT_USER',\n      tenantId: '',\n      enabled: true\n    };\n    this.roles = [{\n      value: 'SUPER_ADMIN',\n      label: 'Super Admin'\n    }, {\n      value: 'TENANT_ADMIN',\n      label: 'Tenant Admin'\n    }, {\n      value: 'TENANT_USER',\n      label: 'Tenant User'\n    }, {\n      value: 'ADMIN',\n      label: 'Admin (Legacy)'\n    }, {\n      value: 'USER',\n      label: 'User (Legacy)'\n    }];\n  }\n  ngOnInit() {\n    this.loadTenants();\n    this.loadUsers();\n  }\n  loadTenants() {\n    this.tenantService.getAllTenants().subscribe({\n      next: data => {\n        this.tenants = data;\n      },\n      error: err => {\n        console.error('Fehler beim Laden der Tenants:', err);\n      }\n    });\n  }\n  loadUsers() {\n    this.loading = true;\n    this.error = null;\n    const request = this.selectedTenantFilter ? this.userService.getUsersByTenant(this.selectedTenantFilter) : this.userService.getAllUsers();\n    request.subscribe({\n      next: data => {\n        this.users = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Fehler beim Laden der Benutzer: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n  openCreateForm() {\n    this.showCreateForm = true;\n    this.editingUser = null;\n    this.resetForm();\n  }\n  openEditForm(user) {\n    this.editingUser = user;\n    this.showCreateForm = true;\n    this.newUser = {\n      username: user.username,\n      password: '',\n      email: user.email || '',\n      role: user.role,\n      tenantId: user.tenantId,\n      enabled: user.enabled\n    };\n  }\n  closeForm() {\n    this.showCreateForm = false;\n    this.editingUser = null;\n    this.resetForm();\n  }\n  resetForm() {\n    this.newUser = {\n      username: '',\n      password: '',\n      email: '',\n      role: 'TENANT_USER',\n      tenantId: this.tenants.length > 0 ? this.tenants[0].tenantId : '',\n      enabled: true\n    };\n  }\n  saveUser() {\n    if (!this.newUser.username || !this.newUser.tenantId) {\n      this.error = 'Benutzername und Tenant sind erforderlich';\n      return;\n    }\n    if (!this.editingUser && !this.newUser.password) {\n      this.error = 'Passwort ist für neue Benutzer erforderlich';\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    const request = this.editingUser ? this.userService.updateUser(this.editingUser.id, this.newUser) : this.userService.createUser(this.newUser);\n    request.subscribe({\n      next: () => {\n        this.loadUsers();\n        this.closeForm();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Fehler beim Speichern: ' + (err.error?.message || err.message);\n        this.loading = false;\n      }\n    });\n  }\n  toggleStatus(user) {\n    if (!confirm(`${user.username} ${user.enabled ? 'deaktivieren' : 'aktivieren'}?`)) {\n      return;\n    }\n    this.userService.toggleUserStatus(user.id).subscribe({\n      next: () => this.loadUsers(),\n      error: err => {\n        this.error = 'Fehler beim Ändern des Status: ' + err.message;\n      }\n    });\n  }\n  deleteUser(user) {\n    if (!confirm(`${user.username} wirklich löschen? Dies kann nicht rückgängig gemacht werden!`)) {\n      return;\n    }\n    this.userService.deleteUser(user.id).subscribe({\n      next: () => this.loadUsers(),\n      error: err => {\n        this.error = 'Fehler beim Löschen: ' + (err.error?.message || err.message);\n      }\n    });\n  }\n  onTenantFilterChange() {\n    this.loadUsers();\n  }\n  getRoleLabel(role) {\n    const roleObj = this.roles.find(r => r.value === role);\n    return roleObj ? roleObj.label : role;\n  }\n  getRoleBadgeClass(role) {\n    switch (role) {\n      case 'SUPER_ADMIN':\n        return 'role-super-admin';\n      case 'TENANT_ADMIN':\n        return 'role-tenant-admin';\n      case 'TENANT_USER':\n        return 'role-tenant-user';\n      default:\n        return 'role-legacy';\n    }\n  }\n  static {\n    this.ɵfac = function UserManagementComponent_Factory(t) {\n      return new (t || UserManagementComponent)(i0.ɵɵdirectiveInject(i1.UserManagementService), i0.ɵɵdirectiveInject(i2.TenantService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserManagementComponent,\n      selectors: [[\"app-user-management\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 15,\n      vars: 7,\n      consts: [[1, \"user-management\"], [1, \"header\"], [1, \"header-actions\"], [1, \"tenant-filter\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"modal\", 4, \"ngIf\"], [\"class\", \"users-table-container\", 4, \"ngIf\"], [3, \"value\"], [1, \"error\"], [1, \"loading\"], [1, \"modal\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"close-btn\", 3, \"click\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"benutzername\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"type\", \"email\", \"placeholder\", \"email@firma.de\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-group\", \"checkbox-group\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal-actions\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"password\", \"placeholder\", \"Passwort\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"placeholder\", \"Neues Passwort\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"users-table-container\"], [\"class\", \"users-table\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"users-table\"], [3, \"inactive\", 4, \"ngFor\", \"ngForOf\"], [1, \"tenant-badge\"], [1, \"role-badge\", 3, \"ngClass\"], [1, \"status-badge\"], [1, \"action-buttons\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-sm\", 3, \"click\"], [\"class\", \"btn btn-sm btn-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"empty-state\"]],\n      template: function UserManagementComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"\\uD83D\\uDC65 Benutzer Verwaltung\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"select\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_Template_select_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedTenantFilter, $event) || (ctx.selectedTenantFilter = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function UserManagementComponent_Template_select_change_5_listener() {\n            return ctx.onTenantFilterChange();\n          });\n          i0.ɵɵelementStart(6, \"option\", 4);\n          i0.ɵɵtext(7, \"Alle Tenants\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, UserManagementComponent_option_8_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function UserManagementComponent_Template_button_click_9_listener() {\n            return ctx.openCreateForm();\n          });\n          i0.ɵɵtext(10, \" \\u2795 Neuer Benutzer \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(11, UserManagementComponent_div_11_Template, 2, 1, \"div\", 7)(12, UserManagementComponent_div_12_Template, 2, 0, \"div\", 8)(13, UserManagementComponent_div_13_Template, 36, 14, \"div\", 9)(14, UserManagementComponent_div_14_Template, 3, 2, \"div\", 10);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedTenantFilter);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.tenants);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading && !ctx.showCreateForm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showCreateForm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading || ctx.showCreateForm);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n      styles: [\".user-management[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  max-width: 1400px;\\n  margin: 0 auto;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 30px;\\n}\\n\\n.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #333;\\n}\\n\\n.header-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 15px;\\n  align-items: center;\\n}\\n\\n.tenant-filter[_ngcontent-%COMP%] {\\n  padding: 10px 15px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 14px;\\n  min-width: 200px;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  background-color: #fee;\\n  color: #c00;\\n  padding: 12px;\\n  border-radius: 4px;\\n  margin-bottom: 20px;\\n  border-left: 4px solid #c00;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px;\\n  color: #666;\\n  font-size: 18px;\\n}\\n\\n\\n\\n.modal[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 1000;\\n}\\n\\n.modal-content[_ngcontent-%COMP%] {\\n  background: white;\\n  padding: 30px;\\n  border-radius: 8px;\\n  max-width: 600px;\\n  width: 90%;\\n  max-height: 90vh;\\n  overflow-y: auto;\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n}\\n\\n.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.close-btn[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  font-size: 24px;\\n  cursor: pointer;\\n  color: #666;\\n}\\n\\n.close-btn[_ngcontent-%COMP%]:hover {\\n  color: #333;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 5px;\\n  font-weight: 500;\\n  color: #333;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 14px;\\n}\\n\\n.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  cursor: pointer;\\n}\\n\\n.checkbox-group[_ngcontent-%COMP%]   input[type=\\\"checkbox\\\"][_ngcontent-%COMP%] {\\n  width: auto;\\n  cursor: pointer;\\n}\\n\\n.modal-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 10px;\\n  margin-top: 30px;\\n}\\n\\n\\n\\n.users-table-container[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  overflow: hidden;\\n}\\n\\n.users-table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n}\\n\\n.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  padding: 15px;\\n  text-align: left;\\n  font-weight: 600;\\n  color: #333;\\n  border-bottom: 2px solid #dee2e6;\\n  font-size: 14px;\\n}\\n\\n.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 15px;\\n  border-bottom: 1px solid #dee2e6;\\n  font-size: 14px;\\n}\\n\\n.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #f8f9fa;\\n}\\n\\n.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.inactive[_ngcontent-%COMP%] {\\n  opacity: 0.6;\\n  background-color: #f5f5f5;\\n}\\n\\n.tenant-badge[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 4px 10px;\\n  border-radius: 12px;\\n  font-size: 12px;\\n  background-color: #e7f3ff;\\n  color: #0066cc;\\n  font-weight: 500;\\n}\\n\\n.role-badge[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 4px 10px;\\n  border-radius: 12px;\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\n.role-super-admin[_ngcontent-%COMP%] {\\n  background-color: #fce4ec;\\n  color: #c2185b;\\n}\\n\\n.role-tenant-admin[_ngcontent-%COMP%] {\\n  background-color: #fff3e0;\\n  color: #e65100;\\n}\\n\\n.role-tenant-user[_ngcontent-%COMP%] {\\n  background-color: #e8f5e9;\\n  color: #2e7d32;\\n}\\n\\n.role-legacy[_ngcontent-%COMP%] {\\n  background-color: #e0e0e0;\\n  color: #616161;\\n}\\n\\n.status-badge[_ngcontent-%COMP%] {\\n  padding: 4px 12px;\\n  border-radius: 12px;\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\n.status-badge.active[_ngcontent-%COMP%] {\\n  background-color: #d4edda;\\n  color: #155724;\\n}\\n\\n.status-badge.inactive[_ngcontent-%COMP%] {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 5px;\\n}\\n\\n\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 10px 20px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 14px;\\n  font-weight: 500;\\n  transition: all 0.2s;\\n}\\n\\n.btn[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #0056b3;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #545b62;\\n}\\n\\n.btn-success[_ngcontent-%COMP%] {\\n  background-color: #28a745;\\n  color: white;\\n}\\n\\n.btn-success[_ngcontent-%COMP%]:hover {\\n  background-color: #218838;\\n}\\n\\n.btn-warning[_ngcontent-%COMP%] {\\n  background-color: #ffc107;\\n  color: #212529;\\n}\\n\\n.btn-warning[_ngcontent-%COMP%]:hover {\\n  background-color: #e0a800;\\n}\\n\\n.btn-danger[_ngcontent-%COMP%] {\\n  background-color: #dc3545;\\n  color: white;\\n}\\n\\n.btn-danger[_ngcontent-%COMP%]:hover {\\n  background-color: #c82333;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 6px 12px;\\n  font-size: 12px;\\n}\\n\\n.empty-state[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 20px;\\n  color: #666;\\n}\\n\\n.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  margin: 0;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    gap: 15px;\\n  }\\n\\n  .header-actions[_ngcontent-%COMP%] {\\n    width: 100%;\\n    flex-direction: column;\\n  }\\n\\n  .tenant-filter[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n\\n  .users-table-container[_ngcontent-%COMP%] {\\n    overflow-x: auto;\\n  }\\n\\n  .users-table[_ngcontent-%COMP%] {\\n    min-width: 800px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2VyLW1hbmFnZW1lbnQvdXNlci1tYW5hZ2VtZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFdBQVc7RUFDWCxlQUFlO0FBQ2pCOztBQUVBLFVBQVU7QUFDVjtFQUNFLGVBQWU7RUFDZixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0VBQ1Qsb0NBQW9DO0VBQ3BDLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osZUFBZTtFQUNmLGVBQWU7RUFDZixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxX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Iiwic291cmNlc0NvbnRlbnQiOlsiLnVzZXItbWFuYWdlbWVudCB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIG1heC13aWR0aDogMTQwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cblxuLmhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcbn1cblxuLmhlYWRlciBoMiB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi5oZWFkZXItYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTVweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnRlbmFudC1maWx0ZXIge1xuICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xufVxuXG4uZXJyb3Ige1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVlO1xuICBjb2xvcjogI2MwMDtcbiAgcGFkZGluZzogMTJweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNjMDA7XG59XG5cbi5sb2FkaW5nIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiA0MHB4O1xuICBjb2xvcjogIzY2NjtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4vKiBNb2RhbCAqL1xuLm1vZGFsIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHotaW5kZXg6IDEwMDA7XG59XG5cbi5tb2RhbC1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIHBhZGRpbmc6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgd2lkdGg6IDkwJTtcbiAgbWF4LWhlaWdodDogOTB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLm1vZGFsLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLm1vZGFsLWhlYWRlciBoMyB7XG4gIG1hcmdpbjogMDtcbn1cblxuLmNsb3NlLWJ0biB7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG4gIGJvcmRlcjogbm9uZTtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiAjNjY2O1xufVxuXG4uY2xvc2UtYnRuOmhvdmVyIHtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi5mb3JtLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmZvcm0tZ3JvdXAgbGFiZWwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjb2xvcjogIzMzMztcbn1cblxuLmZvcm0tY29udHJvbCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNoZWNrYm94LWdyb3VwIGxhYmVsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA4cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmNoZWNrYm94LWdyb3VwIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XG4gIHdpZHRoOiBhdXRvO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5tb2RhbC1hY3Rpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgZ2FwOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAzMHB4O1xufVxuXG4vKiBVc2VycyBUYWJsZSAqL1xuLnVzZXJzLXRhYmxlLWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi51c2Vycy10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4udXNlcnMtdGFibGUgdGhlYWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xufVxuXG4udXNlcnMtdGFibGUgdGgge1xuICBwYWRkaW5nOiAxNXB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogIzMzMztcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNkZWUyZTY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnVzZXJzLXRhYmxlIHRkIHtcbiAgcGFkZGluZzogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnVzZXJzLXRhYmxlIHRib2R5IHRyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbn1cblxuLnVzZXJzLXRhYmxlIHRib2R5IHRyLmluYWN0aXZlIHtcbiAgb3BhY2l0eTogMC42O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xufVxuXG4udGVuYW50LWJhZGdlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiA0cHggMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmM2ZmO1xuICBjb2xvcjogIzAwNjZjYztcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnJvbGUtYmFkZ2Uge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDRweCAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5yb2xlLXN1cGVyLWFkbWluIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZTRlYztcbiAgY29sb3I6ICNjMjE4NWI7XG59XG5cbi5yb2xlLXRlbmFudC1hZG1pbiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmYzZTA7XG4gIGNvbG9yOiAjZTY1MTAwO1xufVxuXG4ucm9sZS10ZW5hbnQtdXNlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGY1ZTk7XG4gIGNvbG9yOiAjMmU3ZDMyO1xufVxuXG4ucm9sZS1sZWdhY3kge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwO1xuICBjb2xvcjogIzYxNjE2MTtcbn1cblxuLnN0YXR1cy1iYWRnZSB7XG4gIHBhZGRpbmc6IDRweCAxMnB4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5zdGF0dXMtYmFkZ2UuYWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZWRkYTtcbiAgY29sb3I6ICMxNTU3MjQ7XG59XG5cbi5zdGF0dXMtYmFkZ2UuaW5hY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhkN2RhO1xuICBjb2xvcjogIzcyMWMyNDtcbn1cblxuLmFjdGlvbi1idXR0b25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiA1cHg7XG59XG5cbi8qIEJ1dHRvbnMgKi9cbi5idG4ge1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG59XG5cbi5idG46ZGlzYWJsZWQge1xuICBvcGFjaXR5OiAwLjU7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbi5idG4tcHJpbWFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmJ0bi1wcmltYXJ5OmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcbn1cblxuLmJ0bi1zZWNvbmRhcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmM3NTdkO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5idG4tc2Vjb25kYXJ5OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU0NWI2Mjtcbn1cblxuLmJ0bi1zdWNjZXNzIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI4YTc0NTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYnRuLXN1Y2Nlc3M6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE4ODM4O1xufVxuXG4uYnRuLXdhcm5pbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjMTA3O1xuICBjb2xvcjogIzIxMjUyOTtcbn1cblxuLmJ0bi13YXJuaW5nOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UwYTgwMDtcbn1cblxuLmJ0bi1kYW5nZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5idG4tZGFuZ2VyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2M4MjMzMztcbn1cblxuLmJ0bi1zbSB7XG4gIHBhZGRpbmc6IDZweCAxMnB4O1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5lbXB0eS1zdGF0ZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNjBweCAyMHB4O1xuICBjb2xvcjogIzY2Njtcbn1cblxuLmVtcHR5LXN0YXRlIHAge1xuICBmb250LXNpemU6IDE2cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLyogUmVzcG9uc2l2ZSAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5oZWFkZXIge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgZ2FwOiAxNXB4O1xuICB9XG5cbiAgLmhlYWRlci1hY3Rpb25zIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLnRlbmFudC1maWx0ZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnVzZXJzLXRhYmxlLWNvbnRhaW5lciB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgfVxuXG4gIC51c2Vycy10YWJsZSB7XG4gICAgbWluLXdpZHRoOiA4MDBweDtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","tenant_r1","tenantId","ɵɵadvance","ɵɵtextInterpolate","name","ctx_r1","error","ɵɵtwoWayListener","UserManagementComponent_div_13_div_11_Template_input_ngModelChange_3_listener","$event","ɵɵrestoreView","_r4","ɵɵnextContext","ɵɵtwoWayBindingSet","newUser","password","ɵɵresetView","ɵɵtwoWayProperty","UserManagementComponent_div_13_div_12_Template_input_ngModelChange_3_listener","_r5","tenant_r6","ɵɵtextInterpolate2","role_r7","value","label","ɵɵlistener","UserManagementComponent_div_13_Template_button_click_5_listener","_r3","closeForm","UserManagementComponent_div_13_Template_input_ngModelChange_10_listener","username","ɵɵtemplate","UserManagementComponent_div_13_div_11_Template","UserManagementComponent_div_13_div_12_Template","UserManagementComponent_div_13_Template_input_ngModelChange_16_listener","email","UserManagementComponent_div_13_Template_select_ngModelChange_20_listener","UserManagementComponent_div_13_option_21_Template","UserManagementComponent_div_13_Template_select_ngModelChange_25_listener","role","UserManagementComponent_div_13_option_26_Template","UserManagementComponent_div_13_Template_input_ngModelChange_29_listener","enabled","UserManagementComponent_div_13_Template_button_click_32_listener","UserManagementComponent_div_13_Template_button_click_34_listener","saveUser","editingUser","tenants","roles","loading","ɵɵtextInterpolate1","UserManagementComponent_div_14_table_1_tr_18_button_24_Template_button_click_0_listener","_r10","user_r9","$implicit","deleteUser","UserManagementComponent_div_14_table_1_tr_18_Template_button_click_20_listener","_r8","openEditForm","UserManagementComponent_div_14_table_1_tr_18_Template_button_click_22_listener","toggleStatus","UserManagementComponent_div_14_table_1_tr_18_button_24_Template","ɵɵclassProp","tenantName","getRoleBadgeClass","getRoleLabel","ɵɵpipeBind2","createdAt","UserManagementComponent_div_14_table_1_tr_18_Template","users","selectedTenantFilter","UserManagementComponent_div_14_table_1_Template","UserManagementComponent_div_14_div_2_Template","length","UserManagementComponent","constructor","userService","tenantService","showCreateForm","ngOnInit","loadTenants","loadUsers","getAllTenants","subscribe","next","data","err","console","request","getUsersByTenant","getAllUsers","message","openCreateForm","resetForm","user","updateUser","id","createUser","confirm","toggleUserStatus","onTenantFilterChange","roleObj","find","r","ɵɵdirectiveInject","i1","UserManagementService","i2","TenantService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","UserManagementComponent_Template","rf","ctx","UserManagementComponent_Template_select_ngModelChange_5_listener","UserManagementComponent_Template_select_change_5_listener","UserManagementComponent_option_8_Template","UserManagementComponent_Template_button_click_9_listener","UserManagementComponent_div_11_Template","UserManagementComponent_div_12_Template","UserManagementComponent_div_13_Template","UserManagementComponent_div_14_Template","i3","NgClass","NgForOf","NgIf","DatePipe","i4","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\bened\\IdeaProjects\\ChatQ-Assist\\chatq-assist-frontend\\src\\app\\components\\user-management\\user-management.component.ts","C:\\Users\\bened\\IdeaProjects\\ChatQ-Assist\\chatq-assist-frontend\\src\\app\\components\\user-management\\user-management.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { UserManagementService, UserDto, CreateUserRequest } from '../../services/user-management.service';\nimport { TenantService, TenantDto } from '../../services/tenant.service';\n\n@Component({\n  selector: 'app-user-management',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './user-management.component.html',\n  styleUrls: ['./user-management.component.css']\n})\nexport class UserManagementComponent implements OnInit {\n  users: UserDto[] = [];\n  tenants: TenantDto[] = [];\n  loading = false;\n  error: string | null = null;\n  showCreateForm = false;\n  editingUser: UserDto | null = null;\n  selectedTenantFilter = '';\n\n  newUser: CreateUserRequest = {\n    username: '',\n    password: '',\n    email: '',\n    role: 'TENANT_USER',\n    tenantId: '',\n    enabled: true\n  };\n\n  roles = [\n    { value: 'SUPER_ADMIN', label: 'Super Admin' },\n    { value: 'TENANT_ADMIN', label: 'Tenant Admin' },\n    { value: 'TENANT_USER', label: 'Tenant User' },\n    { value: 'ADMIN', label: 'Admin (Legacy)' },\n    { value: 'USER', label: 'User (Legacy)' }\n  ];\n\n  constructor(\n    private userService: UserManagementService,\n    private tenantService: TenantService\n  ) {}\n\n  ngOnInit() {\n    this.loadTenants();\n    this.loadUsers();\n  }\n\n  loadTenants() {\n    this.tenantService.getAllTenants().subscribe({\n      next: (data) => {\n        this.tenants = data;\n      },\n      error: (err) => {\n        console.error('Fehler beim Laden der Tenants:', err);\n      }\n    });\n  }\n\n  loadUsers() {\n    this.loading = true;\n    this.error = null;\n\n    const request = this.selectedTenantFilter\n      ? this.userService.getUsersByTenant(this.selectedTenantFilter)\n      : this.userService.getAllUsers();\n\n    request.subscribe({\n      next: (data) => {\n        this.users = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Fehler beim Laden der Benutzer: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n\n  openCreateForm() {\n    this.showCreateForm = true;\n    this.editingUser = null;\n    this.resetForm();\n  }\n\n  openEditForm(user: UserDto) {\n    this.editingUser = user;\n    this.showCreateForm = true;\n    this.newUser = {\n      username: user.username,\n      password: '', // Don't populate password\n      email: user.email || '',\n      role: user.role,\n      tenantId: user.tenantId,\n      enabled: user.enabled\n    };\n  }\n\n  closeForm() {\n    this.showCreateForm = false;\n    this.editingUser = null;\n    this.resetForm();\n  }\n\n  resetForm() {\n    this.newUser = {\n      username: '',\n      password: '',\n      email: '',\n      role: 'TENANT_USER',\n      tenantId: this.tenants.length > 0 ? this.tenants[0].tenantId : '',\n      enabled: true\n    };\n  }\n\n  saveUser() {\n    if (!this.newUser.username || !this.newUser.tenantId) {\n      this.error = 'Benutzername und Tenant sind erforderlich';\n      return;\n    }\n\n    if (!this.editingUser && !this.newUser.password) {\n      this.error = 'Passwort ist für neue Benutzer erforderlich';\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    const request = this.editingUser\n      ? this.userService.updateUser(this.editingUser.id, this.newUser)\n      : this.userService.createUser(this.newUser);\n\n    request.subscribe({\n      next: () => {\n        this.loadUsers();\n        this.closeForm();\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Fehler beim Speichern: ' + (err.error?.message || err.message);\n        this.loading = false;\n      }\n    });\n  }\n\n  toggleStatus(user: UserDto) {\n    if (!confirm(`${user.username} ${user.enabled ? 'deaktivieren' : 'aktivieren'}?`)) {\n      return;\n    }\n\n    this.userService.toggleUserStatus(user.id).subscribe({\n      next: () => this.loadUsers(),\n      error: (err) => {\n        this.error = 'Fehler beim Ändern des Status: ' + err.message;\n      }\n    });\n  }\n\n  deleteUser(user: UserDto) {\n    if (!confirm(`${user.username} wirklich löschen? Dies kann nicht rückgängig gemacht werden!`)) {\n      return;\n    }\n\n    this.userService.deleteUser(user.id).subscribe({\n      next: () => this.loadUsers(),\n      error: (err) => {\n        this.error = 'Fehler beim Löschen: ' + (err.error?.message || err.message);\n      }\n    });\n  }\n\n  onTenantFilterChange() {\n    this.loadUsers();\n  }\n\n  getRoleLabel(role: string): string {\n    const roleObj = this.roles.find(r => r.value === role);\n    return roleObj ? roleObj.label : role;\n  }\n\n  getRoleBadgeClass(role: string): string {\n    switch (role) {\n      case 'SUPER_ADMIN': return 'role-super-admin';\n      case 'TENANT_ADMIN': return 'role-tenant-admin';\n      case 'TENANT_USER': return 'role-tenant-user';\n      default: return 'role-legacy';\n    }\n  }\n}\n","<div class=\"user-management\">\n  <div class=\"header\">\n    <h2>👥 Benutzer Verwaltung</h2>\n    <div class=\"header-actions\">\n      <select [(ngModel)]=\"selectedTenantFilter\" (change)=\"onTenantFilterChange()\" class=\"tenant-filter\">\n        <option value=\"\">Alle Tenants</option>\n        <option *ngFor=\"let tenant of tenants\" [value]=\"tenant.tenantId\">{{ tenant.name }}</option>\n      </select>\n      <button class=\"btn btn-primary\" (click)=\"openCreateForm()\" [disabled]=\"loading\">\n        ➕ Neuer Benutzer\n      </button>\n    </div>\n  </div>\n\n  <div class=\"error\" *ngIf=\"error\">{{ error }}</div>\n\n  <div class=\"loading\" *ngIf=\"loading && !showCreateForm\">Lädt...</div>\n\n  <!-- Create/Edit Form -->\n  <div class=\"modal\" *ngIf=\"showCreateForm\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h3>{{ editingUser ? 'Benutzer bearbeiten' : 'Neuen Benutzer erstellen' }}</h3>\n        <button class=\"close-btn\" (click)=\"closeForm()\">✕</button>\n      </div>\n\n      <div class=\"form-group\">\n        <label>Benutzername *</label>\n        <input type=\"text\" [(ngModel)]=\"newUser.username\" placeholder=\"benutzername\"\n               class=\"form-control\" [disabled]=\"editingUser !== null\" />\n      </div>\n\n      <div class=\"form-group\" *ngIf=\"!editingUser\">\n        <label>Passwort *</label>\n        <input type=\"password\" [(ngModel)]=\"newUser.password\" placeholder=\"Passwort\" class=\"form-control\" />\n      </div>\n\n      <div class=\"form-group\" *ngIf=\"editingUser\">\n        <label>Neues Passwort (leer lassen für unverändert)</label>\n        <input type=\"password\" [(ngModel)]=\"newUser.password\" placeholder=\"Neues Passwort\" class=\"form-control\" />\n      </div>\n\n      <div class=\"form-group\">\n        <label>E-Mail</label>\n        <input type=\"email\" [(ngModel)]=\"newUser.email\" placeholder=\"email@firma.de\" class=\"form-control\" />\n      </div>\n\n      <div class=\"form-group\">\n        <label>Tenant *</label>\n        <select [(ngModel)]=\"newUser.tenantId\" class=\"form-control\" [disabled]=\"editingUser !== null\">\n          <option *ngFor=\"let tenant of tenants\" [value]=\"tenant.tenantId\">\n            {{ tenant.name }} ({{ tenant.tenantId }})\n          </option>\n        </select>\n      </div>\n\n      <div class=\"form-group\">\n        <label>Rolle *</label>\n        <select [(ngModel)]=\"newUser.role\" class=\"form-control\">\n          <option *ngFor=\"let role of roles\" [value]=\"role.value\">{{ role.label }}</option>\n        </select>\n      </div>\n\n      <div class=\"form-group checkbox-group\">\n        <label>\n          <input type=\"checkbox\" [(ngModel)]=\"newUser.enabled\" />\n          Benutzer ist aktiv\n        </label>\n      </div>\n\n      <div class=\"modal-actions\">\n        <button class=\"btn btn-secondary\" (click)=\"closeForm()\">Abbrechen</button>\n        <button class=\"btn btn-primary\" (click)=\"saveUser()\" [disabled]=\"loading\">\n          {{ editingUser ? 'Speichern' : 'Erstellen' }}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Users Table -->\n  <div class=\"users-table-container\" *ngIf=\"!loading || showCreateForm\">\n    <table class=\"users-table\" *ngIf=\"users.length > 0\">\n      <thead>\n        <tr>\n          <th>Benutzername</th>\n          <th>E-Mail</th>\n          <th>Tenant</th>\n          <th>Rolle</th>\n          <th>Status</th>\n          <th>Erstellt</th>\n          <th>Aktionen</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let user of users\" [class.inactive]=\"!user.enabled\">\n          <td>\n            <strong>{{ user.username }}</strong>\n          </td>\n          <td>{{ user.email || '-' }}</td>\n          <td>\n            <span class=\"tenant-badge\">{{ user.tenantName || user.tenantId }}</span>\n          </td>\n          <td>\n            <span class=\"role-badge\" [ngClass]=\"getRoleBadgeClass(user.role)\">\n              {{ getRoleLabel(user.role) }}\n            </span>\n          </td>\n          <td>\n            <span class=\"status-badge\" [class.active]=\"user.enabled\" [class.inactive]=\"!user.enabled\">\n              {{ user.enabled ? '✓ Aktiv' : '✕ Inaktiv' }}\n            </span>\n          </td>\n          <td>{{ user.createdAt | date: 'dd.MM.yyyy' }}</td>\n          <td>\n            <div class=\"action-buttons\">\n              <button class=\"btn btn-sm btn-primary\" (click)=\"openEditForm(user)\">✏️</button>\n              <button class=\"btn btn-sm\"\n                      [class.btn-warning]=\"user.enabled\"\n                      [class.btn-success]=\"!user.enabled\"\n                      (click)=\"toggleStatus(user)\">\n                {{ user.enabled ? '🚫' : '✓' }}\n              </button>\n              <button class=\"btn btn-sm btn-danger\" (click)=\"deleteUser(user)\"\n                      *ngIf=\"user.username !== 'admin'\">\n                🗑️\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class=\"empty-state\" *ngIf=\"users.length === 0\">\n      <p>{{ selectedTenantFilter ? 'Keine Benutzer für diesen Tenant gefunden.' : 'Keine Benutzer vorhanden.' }}</p>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}